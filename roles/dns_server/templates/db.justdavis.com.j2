$TTL 1h ; sets the default time-to-live for this zone

; name ttl class rr    name-server                 email-addr  (sn ref ret ex min)
@          IN    SOA   ns1.{{ domain }}.           hostmaster.{{ domain }}. (
                              2016081300 ; sn = serial number (yyyymmdd##)
                              1h         ; ref = refresh
                              15M        ; ret = update retry
                              4W         ; ex = expiry
                              1h         ; min = minimum
                              )

; Nameserver Records
{% if not is_test %}
; name                   ttl    class   rr                name
@                               IN      NS                ns1.{{ domain }}.
                                IN      NS                ns6.gandi.net.

; subdomain              ttl    class   rr                name
tests.justdavis.com.            IN      NS                ns-357.awsdns-44.com.
                                IN      NS                ns-1620.awsdns-10.co.uk.
                                IN      NS                ns-770.awsdns-32.net.
                                IN      NS                ns-1080.awsdns-07.org.
{% else %}
; name                   ttl    class   rr                name
@                               IN      NS                ns1.{{ domain }}.
{% endif %}

; IPv4 Address Records
; name             ttl    class   rr                name
@                         IN      A                 {{ eddings_public_ip }}
ns1                       IN      A                 {{ eddings_public_ip }}
mail                      IN      A                 96.244.76.236
eddings                   IN      A                 {{ eddings_public_ip }}
piers                     IN      A                 96.244.76.236
karlanderica              IN      A                 96.244.76.234

; CNAME Records
; name             ttl    class   rr                name
www                       IN      CNAME             @
smtp                      IN      CNAME             mail
kelso                     IN      CNAME             karlanderica
kerberos                  IN      CNAME             @

; Mailserver Records
; name             ttl    class   rr     priority   name
@                         IN      MX     10         mail

; TXT Records
; name             ttl    class   rr                name
; Other servers should accept mail for this domain that comes from systems
; matching at least one of our MX records. All other mail should be rejected.
@                         IN      TXT               "v=spf1 mx -all"
_kerberos                 IN      TXT               "{{ domain | upper }}"
$INCLUDE /etc/bind/dkim-{{ domain }}.record

; SRV Records
; name                   ttl    class   rr                name
_kerberos._udp                  IN      SRV               0 0 88 eddings
_kerberos-master._udp           IN      SRV               0 0 88 eddings
_kerberos-adm._tcp              IN      SRV               0 0 749 eddings
_kpasswd._udp                   IN      SRV               0 0 464 eddings

; AFSDB Records
; cell                   ttl    class   rr                name
{{ domain }}.                  IN      AFSDB             1 eddings.{{ domain }}.

; NS Records

